<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="stylesheet" href="regstyle.css">
</head>

<body>
    <div class="left">
        <div class="form">

            <h1>Welcome!</h1>
            <form method="post" name="google-sheet">

                <label for="name">Name</label>
                <input type="text" placeholder="Enter full name" name="Name" id="name" required>


                <label for="cnumber">Contact Number</label>
                <input type="tel" placeholder="Enter contact number" name="Contact-Number" id="cnumber"
                    pattern="[0-9]{10}" required>


                <label for="email">Email</label>
                <input type="email" placeholder="Enter your Email" name="Email" id="email" required>


                <label for="password">Password</label>
                <div class="pass"><input type="password" placeholder="Enter Password" name="Password" required
                        id="password">
                    <img src="images/eye-crossed.svg" alt="" width="16px" id="eyeicon">
                </div>


                <input type="submit" value="Register" id="submit" name="register">


                <p>Already have a Account? <a href="signin.html" id="signin-btn">Sign in</a></p>

            </form>

        </div>

    </div>
    <div class="right">
        <p class="logo">Book <br>Heaven Library</p>
    </div>

    <script>
        //password toggle

        let eyeicon = document.getElementById("eyeicon");
        let password = document.getElementById("password");

        eyeicon.onclick = function () {
            if (password.type == "password") {
                password.type = "text";
                eyeicon.src = "images/eye.svg";
            }
            else {
                password.type = "password";
                eyeicon.src = "images/eye-crossed.svg";
            }
        }
    </script>

    <script>
        // registration database
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyY6tUEr3Y7yKaCYYMHK7OoRrHucObGVIjyZrtOmfAoezfWHng5XSYLDCTS34ZCr7nt/exec'
        const form = document.forms['google-sheet']
        form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => alert("Thanks for registration and wait for permission before signing in"))
                .then(response => window.location.href = 'signin.html')
                .catch(error => console.error('Error!', error.message))
        })
    </script>
</body>

</html>